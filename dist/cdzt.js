!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.cdzt=e():t.cdzt=e()}(this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var u=e[r]={i:r,l:!1,exports:{}};return t[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var u in t)n.d(r,u,function(e){return t[e]}.bind(null,u));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function u(t){return function e(n){return 0===arguments.length||r(n)?e:t.apply(this,arguments)}}function o(t){return function e(n,o){switch(arguments.length){case 0:return e;case 1:return r(n)?e:u(function(e){return t(n,e)});default:return r(n)&&r(o)?e:r(n)?u(function(e){return t(e,o)}):r(o)?u(function(e){return t(n,e)}):t(n,o)}}}n.r(e);var c=o(function(t,e){return t*e});var a=u(function(t){return null!=t&&(e=t.length,"[object Number]"===Object.prototype.toString.call(e))?t.length:NaN;var e}),i=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function f(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function l(t,e,n){return function(){if(0===arguments.length)return n();var r=Array.prototype.slice.call(arguments,0),u=r.pop();if(!i(u)){for(var o=0;o<t.length;){if("function"==typeof u[t[o]])return u[t[o]].apply(u,r);o+=1}if(f(u)){var c=e.apply(null,r);return c(u)}}return n.apply(this,arguments)}}var s=u(function(t){return!!i(t)||!!t&&("object"==typeof t&&(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))}),d=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();function p(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,u){return e.apply(this,arguments)};case 5:return function(t,n,r,u,o){return e.apply(this,arguments)};case 6:return function(t,n,r,u,o,c){return e.apply(this,arguments)};case 7:return function(t,n,r,u,o,c,a){return e.apply(this,arguments)};case 8:return function(t,n,r,u,o,c,a,i){return e.apply(this,arguments)};case 9:return function(t,n,r,u,o,c,a,i,f){return e.apply(this,arguments)};case 10:return function(t,n,r,u,o,c,a,i,f,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}var y=o(function(t,e){return p(t.length,function(){return t.apply(e,arguments)})});function g(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function h(t,e,n,r){return t["@@transducer/result"](n[r](y(t["@@transducer/step"],t),e))}var v="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function b(t,e,n){if("function"==typeof t&&(t=function(t){return new d(t)}(t)),s(n))return function(t,e,n){for(var r=0,u=n.length;r<u;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return h(t,e,n,"fantasy-land/reduce");if(null!=n[v])return g(t,e,n[v]());if("function"==typeof n.next)return g(t,e,n);if("function"==typeof n.reduce)return h(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var m=function(){return this.xf["@@transducer/init"]()},z=function(t){return this.xf["@@transducer/result"](t)},_=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=m,t.prototype["@@transducer/result"]=z,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},t}(),O=o(function(t,e){return new _(t,e)});var j=o(function(t,e){return 1===t?u(e):p(t,function t(e,n,u){return function(){for(var o=[],c=0,a=e,i=0;i<n.length||c<arguments.length;){var f;i<n.length&&(!r(n[i])||c>=arguments.length)?f=n[i]:(f=arguments[c],c+=1),o[i]=f,r(f)||(a-=1),i+=1}return a<=0?u.apply(this,o):p(a,t(e,o,u))}}(t,[],e))});function x(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var w=Object.prototype.toString,S=function(){return"[object Arguments]"===w.call(arguments)?function(t){return"[object Arguments]"===w.call(t)}:function(t){return x("callee",t)}}(),E=!{toString:null}.propertyIsEnumerable("toString"),D=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],A=function(){return arguments.propertyIsEnumerable("length")}(),N=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1},P="function"!=typeof Object.keys||A?u(function(t){if(Object(t)!==t)return[];var e,n,r=[],u=A&&S(t);for(e in t)!x(e,t)||u&&"length"===e||(r[r.length]=e);if(E)for(n=D.length-1;n>=0;)x(e=D[n],t)&&!N(r,e)&&(r[r.length]=e),n-=1;return r}):u(function(t){return Object(t)!==t?[]:Object.keys(t)}),k=o(l(["fantasy-land/map","map"],O,function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return j(e.length,function(){return t.call(this,e.apply(this,arguments))});case"[object Object]":return b(function(n,r){return n[r]=t(e[r]),n},{},P(e));default:return function(t,e){for(var n=0,r=e.length,u=Array(r);n<r;)u[n]=t(e[n]),n+=1;return u}(t,e)}}));var R=u(function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)});function T(t,e,n,r){var u,o=function(u){for(var o=e.length,c=0;c<o;){if(t===e[c])return n[c];c+=1}for(var a in e[c+1]=t,n[c+1]=u,t)u[a]=r?T(t[a],e,n,!0):t[a];return u};switch(R(t)){case"Object":return o({});case"Array":return o([]);case"Date":return new Date(t.valueOf());case"RegExp":return u=t,new RegExp(u.source,(u.global?"g":"")+(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.sticky?"y":"")+(u.unicode?"u":""));default:return t}}var q=u(function(t){return null!=t&&"function"==typeof t.clone?t.clone():T(t,[],[],!0)});function I(t){return function e(n,c,a){switch(arguments.length){case 0:return e;case 1:return r(n)?e:o(function(e,r){return t(n,e,r)});case 2:return r(n)&&r(c)?e:r(n)?o(function(e,n){return t(e,c,n)}):r(c)?o(function(e,r){return t(n,e,r)}):u(function(e){return t(n,c,e)});default:return r(n)&&r(c)&&r(a)?e:r(n)&&r(c)?o(function(e,n){return t(e,n,a)}):r(n)&&r(a)?o(function(e,n){return t(e,c,n)}):r(c)&&r(a)?o(function(e,r){return t(n,e,r)}):r(n)?u(function(e){return t(e,c,a)}):r(c)?u(function(e){return t(n,e,a)}):r(a)?u(function(e){return t(n,c,e)}):t(n,c,a)}}}var L=o(function(t,e){return null==e||e!=e?t:e}),B=o(function(t,e){for(var n=e,r=0;r<t.length;){if(null==n)return;n=n[t[r]],r+=1}return n}),C=I(function(t,e,n){return L(t,B(e,n))});function M(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function Z(t,e,n){for(var r=0,u=n.length;r<u;){if(t(e,n[r]))return!0;r+=1}return!1}var U="function"==typeof Object.is?Object.is:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};function W(t,e,n,r){var u=M(t);function o(t,e){return F(t,e,n.slice(),r.slice())}return!Z(function(t,e){return!Z(o,e,t)},M(e),u)}function F(t,e,n,r){if(U(t,e))return!0;var u,o,c=R(t);if(c!==R(e))return!1;if(null==t||null==e)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(c){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===(u=t.constructor,null==(o=String(u).match(/^function (\w*)/))?"":o[1]))return t===e;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof e||!U(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!U(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var a=n.length-1;a>=0;){if(n[a]===t)return r[a]===e;a-=1}switch(c){case"Map":return t.size===e.size&&W(t.entries(),e.entries(),n.concat([t]),r.concat([e]));case"Set":return t.size===e.size&&W(t.values(),e.values(),n.concat([t]),r.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var i=P(t);if(i.length!==P(e).length)return!1;var f=n.concat([t]),l=r.concat([e]);for(a=i.length-1;a>=0;){var s=i[a];if(!x(s,e)||!F(e[s],t[s],f,l))return!1;a-=1}return!0}var H=o(function(t,e){return F(t,e,[],[])});function V(t,e){return function(t,e,n){var r,u;if("function"==typeof t.indexOf)switch(typeof e){case"number":if(0===e){for(r=1/e;n<t.length;){if(0===(u=t[n])&&1/u===r)return n;n+=1}return-1}if(e!=e){for(;n<t.length;){if("number"==typeof(u=t[n])&&u!=u)return n;n+=1}return-1}return t.indexOf(e,n);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,n);case"object":if(null===e)return t.indexOf(e,n)}for(;n<t.length;){if(H(t[n],e))return n;n+=1}return-1}(e,t,0)>=0}var X=o(V),G=I(function(t,e,n){if(t>e)throw new Error("min must not be greater than max in clamp(min, max, value)");return n<t?t:n>e?e:n}),J=I(b),K=o(function(t,e){return Number(t)-Number(e)}),Q=o(function(t,e){return t>e});function Y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,u=!1,o=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){u=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(u)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){tt(t,e,n[e])})}return t}function tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function et(t,e){if(null==t)return{};var n,r,u=function(t,e){if(null==t)return{};var n,r,u={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(u[n]=t[n]);return u}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(u[n]=t[n])}return u}n.d(e,"sliceData",function(){return ot}),n.d(e,"setWidth",function(){return ct});var nt=!1,rt=["line"],ut=function(t){var e,n,r=t.options.resetButton,u=(e=r,(n=document.createElement("div")).innerHTML=e,n.firstChild);return r||((u=document.createElement("BUTTON")).innerText="RESET"),u.id="_cdzt-reset-button",u},ot=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=t.datasets,u=void 0===r?[]:r,o=t.labels,i=void 0===o?[]:o,f=function(t){return parseInt(c(a(t),e))},l=function(t){return parseInt(c(a(t),n))},s=function(t){return t.slice(f(t),l(t))},d=k(function(t){var e=t.data,n=void 0===e?[]:e;return $({},et(t,["data"]),{data:s(n)})},u);return $({},t,{datasets:d,labels:s(i)})},ct=function(t){return function(e){return t._cdzt.dragDiv.style.top="".concat(t._cdzt.canvasRect.top,"px"),t._cdzt.dragDiv.style.height="".concat(t._cdzt.canvasRect.height,"px"),e>0?(t._cdzt.dragDiv.style.right=null,t._cdzt.dragDiv.style.marginLeft=null,t._cdzt.dragDiv.style.width="".concat(Math.abs(e),"px"),t):(t._cdzt.dragDiv.style.right=t._cdzt.dragDiv.style.left,t._cdzt.dragDiv.style.marginLeft="".concat(e,"px"),t._cdzt.dragDiv.style.width="".concat(Math.abs(e),"px"),t)}},at={id:"cdzt",beforeInit:function(t){if(t._cdzt={},t._cdzt.originalData=q(t.data),t._cdzt.zoomTolerance=C(.1,["options","cdzt","zoomTolerance"],t),!(nt=X(t.config.type,rt)))return!1;t._cdzt.zoom=C(ot,["options","cdzt","zoom"],t),t._cdzt.resetZoom=function(){t.data=t._cdzt.originalData,t.update()},t._cdzt.isZooming=!1,t._cdzt.resetButton=ut(t),t._cdzt.resetButton.addEventListener("click",t._cdzt.resetZoom),t._cdzt.dragDiv=document.createElement("DIV"),t._cdzt.dragDiv.id="_cdzt",t._cdzt.dragDiv.style.cssText="\n  pointer-events: none;\n  background: grey;\n  position: absolute;\n  height: 100%;\n  bottom: 0;\n  left: 0;\n  opacity: 0.2;\n  width: 0px;\n",t._cdzt.setWidth=ct(t)},afterRender:function(t){if(!nt)return!1;var e=t.chart.ctx.canvas;t._cdzt.chartNode=e;var n=t._cdzt.chartNode.parentElement;n.appendChild(t._cdzt.dragDiv),n.appendChild(t._cdzt.resetButton);var r=function(e){if(e.preventDefault(),!t._cdzt.isZooming){t._cdzt.isZooming=!0;var n=e.target.getBoundingClientRect();t._cdzt.canvasRect=n,t._cdzt.clamp=G(t.chartArea.left,n.right),t._cdzt.dragStart=t._cdzt.clamp(e.x-n.x),t._cdzt.dragDiv.style.left="".concat(t._cdzt.dragStart,"px"),t._cdzt.chartNode.addEventListener("mousemove",u),t._cdzt.chartNode.addEventListener("mouseup",o)}},u=function(e){if(e.preventDefault(),t._cdzt.isZooming){var n=J(K,t._cdzt.clamp(e.x),[t._cdzt.canvasRect.x,t._cdzt.dragStart]);t._cdzt.setWidth(n)}},o=function(e){e.preventDefault(),t._cdzt.dragEnd=e.x-t._cdzt.canvasRect.x,t._cdzt.setWidth(0),t._cdzt.isZooming=!1;var n=t.data,r=Y([t._cdzt.dragStart/t._cdzt.canvasRect.width,t._cdzt.dragEnd/t._cdzt.canvasRect.width].sort(),2),u=r[0],o=r[1];Q(K(o,u),t._cdzt.zoomTolerance)&&(t.data=t._cdzt.zoom(n,u,o,t),t.update())};t._cdzt.chartNode.removeEventListener("mousedown",r),t._cdzt.chartNode.removeEventListener("mousemove",u),t._cdzt.chartNode.removeEventListener("mouseup",o),t._cdzt.chartNode.addEventListener("mousedown",r)}};e.default=at}])});